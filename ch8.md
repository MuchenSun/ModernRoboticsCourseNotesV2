---
layout: post
mathjax: true
---

<p style="text-align:center;">
<button type="button" onclick="window.location.href='index.html';">Homepage</button>
<span style="float:left;"><button type="button" onclick="window.location.href='ch6.html';">Previous</button></span>
<span style="float:right;"><button type="button" onclick="alert('This is the last chapter!')">Next</button></span>
</p>

# Chapter 8: Dynamics of Open Chains

## Introduction

The topic of this chapter is **robot dynamics**, which discusses the relation between joint accelerations $\ddot{\theta}$ and joint forces and torques $\tau$ with given joint positions $\theta$ and joint velocities $\dot{\theta}$. This relation is usually described by a set of equations named **dynamic equations / equations of motion**:

$$
\begin{align}
\tau &= M(\theta)\ddot{\theta} + h(\theta, \dot{\theta}) \tag*{(for inverse dynamics)}
\end{align}
$$

$$
\begin{align}
\ddot{\theta} &= M^{-1}(\theta) (\tau - h(\theta, \dot{\theta}))  \tag*{(for forward dynamics)}
\end{align}
$$

Typically, there are two ways to derive these equations, one is **Newton-Euler formulation**, another is **Lagrangian dynamics formulation**. We will start with the latter one.

## Lagrangian Formulation

### Euler-Lagrangian Equations

In the Lagrangian formulation of dynamics, the system's configuration is described in a set of **generalized coordinates** $$q \in \mathbb{R}^n$$, in which the **generalized forces** are defined as $$f \in \mathbb{R}^n$$. For example, for a rigid body in a $\hat{x}$-$\hat{y}$ plane, the generalized coordinates could be either $(x, y) \in \mathbb{R}^2$ or $(\theta_1, \theta_2) \in \mathbb{R}^2$, then both the configuration and the force are represented in this set of coordinates. As mentioned in Chapter 5, the power generated by the joints is can represented as $$\tau^T\dot{\theta}$$, here we have $f\dot{q}$ representing the power.

Recall that the purpose of robot dynamics is to connect joint accrelerations and joint forces and torques. Here, this is achieved through the **Lagrangian function** $$\mathcal{L}(q, \dot{q})$$ for a mechanical system, which is defined as:

$$
\mathcal{L}(q, \dot{q}) = \mathcal{K}(q, \dot{q}) - \mathcal{P}(q)
$$

where $\mathcal{K}$ is the overall system's kinetic energy and $\mathcal{P}$ is the potential energy.

Then we can calculate the force $f$ using the **Euler-Lagrangian equations with external forces**:

$$
f = \frac{d}{dt} \frac{\partial\mathcal{L}}{\partial\dot{q}} - \frac{\partial\mathcal{L}}{\partial q}
$$

Thus, the key issue in Lagrangian dynamics formulation is to derive $\mathcal{K}$ and $\mathcal{P}$ to get the $\mathcal{L}$.

From an example of 2R planar robot(*Figure 8.1* in textbook), we can see a general representation of Euler-Lagrangian equations for serial chains containing revolute joints:

$$
\tau = M(\theta)\ddot{\theta} + \underbrace{c(\theta, \dot{\theta}) + g(\theta)}_{h(\theta, \dot{\theta})}
$$

where $\theta \in \mathbb{R}^n$ is the configuration of the serial chain, $M(\theta) \in \mathbb{R}^{n\times n}$ is the symmetric, positive definite **mass matrix** that is only related to $\theta$, $c(\theta, \dot{\theta})$ is the velocity product term that is composed of terms with $\theta_i^2$ or $\theta_i \theta_j$, and $g(\theta)$ is the gravity term, which is under the assumption that all the potential energy comes from gravity.

### Understanding Velocity Product Terms


