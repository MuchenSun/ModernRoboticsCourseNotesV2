<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Modern Robotics Course Notes | Notes of &lt;Modern Robotics&gt; Online Course</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Modern Robotics Course Notes" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Notes of &lt;Modern Robotics&gt; Online Course" />
<meta property="og:description" content="Notes of &lt;Modern Robotics&gt; Online Course" />
<link rel="canonical" href="http://localhost:4000/ch3.html" />
<meta property="og:url" content="http://localhost:4000/ch3.html" />
<meta property="og:site_name" content="Modern Robotics Course Notes" />
<script type="application/ld+json">
{"url":"http://localhost:4000/ch3.html","headline":"Modern Robotics Course Notes","description":"Notes of &lt;Modern Robotics&gt; Online Course","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=153fd49a44e477b9e23b2e3758fbec5bd5e8b9dd">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">Modern Robotics Course Notes</a></h1>
      

      <p style="text-align:center;">
<button type="button" onclick="window.location.href='index.html';">Homepage</button>
<span style="float:left;"><button type="button" onclick="window.location.href='ch2.html';">Previous</button></span>
<span style="float:right;"><button type="button" onclick="window.location.href='ch4.html';">Next</button></span>
</p>

<h1 id="chapter-3-rigid-body-motions">Chapter 3: Rigid-Body Motions</h1>

<h2 id="rotations-and-angular-velocities">Rotations and Angular Velocities</h2>

<h3 id="rotation-matrices">Rotation Matrices</h3>

<p>A rotation matrix <script type="math/tex">R</script> is in <script type="math/tex">SO(3)</script>(<em>special orthogonal group</em>). What’s the definition of <script type="math/tex">SO(3)</script>? What does this definition mean in geometry?</p>

<p>Rotation matrices have several properties:</p>
<ol>
  <li>closure</li>
  <li>associativity</li>
  <li>identity element existence</li>
  <li>inverse element existence</li>
</ol>

<h4 id="usages-of-rotation-matrices">Usages of Rotation Matrices</h4>
<p><strong>Representing an orientation</strong></p>

<p>Here the rotation matrix <script type="math/tex">R_{sb}</script> can be considered as the representation of the three axes in <script type="math/tex">\{b\}</script> at <script type="math/tex">\{s\}</script>. For any two frame <script type="math/tex">\{d\}</script> and <script type="math/tex">\{e\}</script>, we have</p>

<script type="math/tex; mode=display">R_{ed} = R^T_{de} = R^{-1}_{de}</script>

<p><strong>Changing the reference frame</strong></p>

<p>Here the rotation matrix <script type="math/tex">R_{sb}</script> can be considered as an operation to change the reference frame of a matrix from <script type="math/tex">\{s\}</script> to <script type="math/tex">\{b\}</script>. A subscription cancellation rule can be exploited.</p>

<p><strong>Rotating a vector or a frame</strong></p>

<p>Here the rotation matrix <script type="math/tex">R_{sb}</script> can be considered as an operation that rotates <script type="math/tex">\{s\}</script> about an axis <script type="math/tex">\hat{\omega}</script> for <script type="math/tex">\theta</script> to <script type="math/tex">\{b\}</script>. We have <script type="math/tex">R = Rot(\hat{\omega}, \theta)</script>.</p>

<p>What’s the matrix representation of <script type="math/tex">R</script> with a given <script type="math/tex">\hat{\omega} = (\omega_1, \omega_2, \omega_3)</script> and a <script type="math/tex">\theta</script>?</p>

<p>When using rotation matrix as rotation operation, <script type="math/tex">\hat{\omega}</script> is coordinate-dependent, which means it indicates different vectors in difference reference frames. That’s why pre-multiplying and post-multiplying a rotation matrix can have difference results. What’s the difference between <script type="math/tex">RR_{sb}</script> and <script type="math/tex">R_{sb}R</script>, where <script type="math/tex">R_{sb}</script> is the rotation matrix?</p>

<h3 id="angular-velocities">Angular Velocities</h3>
<p>Angular velocity is defined as <script type="math/tex">w = \hat{w}\dot{\theta}</script>. It’s a 3-vector, where <script type="math/tex">\hat{w}</script> indicates the axis of rotation and <script type="math/tex">\dot{\theta}</script> indicates the rate of rotation.</p>

<p>For a given body frame, whose orientation is represented by a rotation matrix <script type="math/tex">% <![CDATA[
R = \left[\begin{matrix}r_1&r_2&r_3\end{matrix}\right] %]]></script>. As it rotate with the fixed angular velocity <script type="math/tex">\omega_s</script>, which is described in <script type="math/tex">\{s\}</script>, <script type="math/tex">R</script> is a function of time <script type="math/tex">t</script>. The rate of change of <script type="math/tex">R</script> can then be represented as:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{aligned}
    \dot{R} & = \left[\begin{matrix} \omega_s \times r_1 & \omega_s \times r_1 & \omega_s \times r_1 \end{matrix}\right] \\
            & = \omega_s \times R
\end{aligned} %]]></script>

<p>Here, several things need to be explained:</p>
<ol>
  <li>The angular velocity <script type="math/tex">w</script> is coordinate-free. A rigid-body is rotating around an origin point with a fixed rate. The angular velocity(according to Wikipedia[1], it should be an orbital angular velocity) is a 3-vector whose direction is prependicular to the rotation plane and magnitude is the rate of rotation. In the last example, <script type="math/tex">\omega_s</script> is just its representation if the fixed frame.</li>
  <li>How to understand <script type="math/tex">\dot{R}</script>(this question really confused me a lot)? Here I have two explanations:s
    <ol>
      <li>As indicated above, for a rotating frame, its orientation is represented by the rotation matrix <script type="math/tex">R</script>, which can be viewed as a function about time <script type="math/tex">t</script>. So, as <script type="math/tex">t</script> increases, R, as a <script type="math/tex">3\times 3</script> matrix, all the nine elements will change. <script type="math/tex">\dot{R}</script>, then, indicates the rate of change of (all the elements of) <script type="math/tex">R</script>.</li>
      <li><script type="math/tex">R</script> is consisted by three unit vectors indicating three axes of the body frame. For a rotating point in space that is represented by a vector <script type="math/tex">r</script>, <script type="math/tex">\omega \times r</script> indicates the linear velocity of the point. Thus, <script type="math/tex">\dot{R}</script> can also be viewed as the linear velocities of the three vertices of the body frame.</li>
    </ol>
  </li>
</ol>

<p>Now we have <script type="math/tex">\dot{R} = \omega_s \times R</script>, but cross production is not convenient, so we have the <strong>skew-symmetric</strong> matrix representation of a angular velocity <script type="math/tex">\omega_s \in \mathbb{R}^3</script>, which is written as <script type="math/tex">[x] \in so(3)</script>. What’s the common property of a matrix in <script type="math/tex">so(3)</script>?</p>

<p>Skew-symmetric matrix representation has several important and useful properites:</p>

<script type="math/tex; mode=display">R[\omega]R^T = [R\omega]</script>

<script type="math/tex; mode=display">\dot{R}R^{-1} = [\omega_s]</script>

<script type="math/tex; mode=display">R^{-1}\dot{R} = [\omega_b]</script>

<script type="math/tex; mode=display">\omega_c = R_{cd}\omega_d</script>

<h3 id="exponential-coordinates-representation-of-rotation">Exponential Coordinates Representation of Rotation</h3>
<p>Now, we know how to use 3 parameters to represent angular velocity. The next step is to use three parameters to represent rotation, which we named as <strong>exponential coordinates representation of rotation</strong>. Here we are going to do this by intergrating angular velocity.</p>

<p>First, a rotation can be described by an axis $\hat{\omega}$ and an angle $\theta$, writing them individually is the <strong>axis-angle</strong> representation of the rotation. Then, we have a vector <script type="math/tex">p</script> doing such a rotation. Suppose the this rotation is achieved by rotating at a constant rate of rotation 1 rad/s for a time period of $t$. So, $t=\theta$. During the rotation, we have:</p>

<script type="math/tex; mode=display">\dot{p} = [\hat{\omega}] p</script>

<p>this equation can be considered as a differential equation of the form $\dot{x}=Ax$, the solution is:</p>

<script type="math/tex; mode=display">p(t) = e^{[\hat{\omega}]t} p(0)</script>

<p>where $p(0)$ is the initial position of vector $p$. Since the rate of rotation is 1 rad/s, we can replace $t$ by $\theta$, so we have:</p>

<script type="math/tex; mode=display">p(\theta) = e^{[\hat{\omega}]\theta} p(0)</script>

<p>$e^{[\hat{\omega}]\theta}$ serves as a rotation matrix that rotates vector $p(0)$ to $p(\theta)$. $e^{[\hat{\omega}]\theta}$, after expansion, can be written as:</p>

<script type="math/tex; mode=display">e^{[\hat{\omega}]\theta} = I + \sin{\theta}[\hat{\omega}] + (1 - \cos{\theta})[\hat{\omega}]^2</script>

<p>For a matrix $A \in \mathbb{R}^{n\times n}$, $e^A$ is the <strong>matrix exponential</strong> of $A$. Here the equation that uses the matrix exponential of $[\hat{\omega}]\theta$ to represent a rotation matrix is called <strong>Rodrigues’ formula</strong>:</p>

<script type="math/tex; mode=display">Rot(\hat{\omega}, \theta) = e^{[\hat{\omega}]\theta} = I + \sin{\theta}[\hat{\omega}] + (1 - \cos{\theta})[\hat{\omega}]^2 \in SO(3)</script>

<p>Recall that, when using rotation matrix as rotation operation, <script type="math/tex">\hat{\omega}</script> is coordinate-dependent. Thus pre-multiplying and post-multiplying a rotation matrix can have difference results.</p>

<p>Since we can write the rotation matrix with given $\hat{\omega}$ and $\theta$, we also want to extract these two parameters from a given rotation matrix. Here the skew-symmetric matrix $[\hat{\omega}\theta] = [\hat{\omega}]\theta$ is named as the <strong>matrix logarithm</strong> of a rotation $R$. There is an algorithm to achieve this, the details and related provements of the algorithm can be found in the textbook at page 85 to 87.</p>

<h3 id="summary-of-rotations-and-angular-velocities">Summary of Rotations and Angular Velocities</h3>
<p>We can use a <strong>rotation matrix</strong> in $SO(3)$ to represent the orientation of a body frame, which can also be exploited to rotate or change the reference frame of a frame or vector.</p>

<p>As rotation is a dynamic process, we want to know the rate of change of the body frame’s orientation, so we introduce the concept of <strong>angular velocity</strong> to describe how a rigid-body(body frame) rotates at an instant.</p>

<p>Since we can use an unit vector and a constant(a rate of ratation) to represent angular velocity, we also want to use a unit vector and another constant(an angle) to represent rotation. To achieve this goal, we use <strong>exponential coordinates representation of rotations</strong>. Reserving the process, we have <strong>matrix logarithm of a rotation</strong>.</p>

<hr />

<h2 id="rigid-body-motions-and-twists">Rigid-Body Motions and Twists</h2>

<h3 id="homogeneous-transformation-matrices">Homogeneous Transformation Matrices</h3>
<p>The idea of homogeneous transformation matrices is to describe both orientation and position of a body frame relative to the fixed frame. A homogeneous matrix $T$ can be written as:</p>

<script type="math/tex; mode=display">% <![CDATA[
T = \left[\begin{matrix} R & p \\ 0 & 1 \end{matrix}\right] \in SE(3) %]]></script>

<p>where $R\in SO(3)$ is the rotation matrix, $p\in \mathbb{R}^3$ is a column vector, and $SE(3)$ is the <strong>special Euclidean group / group of rigid-body motions / group of homogeneous transformation matrices</strong>.</p>

<p>Homogeneous transformation matrices has several important properties.</p>

<p>First, the inverse of the transformation matrix:</p>

<script type="math/tex; mode=display">% <![CDATA[
T^{-1} = \left[\begin{matrix} R^T & -R^Tp \\ 0 & 1 \end{matrix}\right] %]]></script>

<p>Second, since transformation matrix is $4\times 4$, we can no longer multiply it with a 3-vector $x$. Instead, we have the representation of $x$ in <strong>homogeneuous coordinates</strong> $\left[\begin{matrix}x^T \ 1\end{matrix}\right]^T$. And we have:</p>

<script type="math/tex; mode=display">T \left[\begin{matrix} x \\ 1 \end{matrix}\right] = \left[\begin{matrix} Rx+p \\ 1 \end{matrix}\right]</script>

<p>Third, according to the <em>proposition 3.18</em> at page 91 of the textbook, when serving as transformation operation, transformtion matrices preserves both length and angle of a shape, which is $SE(3)$ is the group of <em>rigid-body</em> motions.</p>

<h4 id="usages-of-transformation-matrices">Usages of Transformation Matrices</h4>
<p>Analogous to rotation matrices, transformation matrices have three usages:</p>

<p><strong>Representing a configuration</strong></p>

<p>It’s easy to understand, here we have:</p>

<script type="math/tex; mode=display">T_{ed} = T^{-1}_{de}</script>

<p><strong>Changing the reference frame of a vector or a frame</strong></p>

<p>The subscript cancellation rule also applies here:</p>

<script type="math/tex; mode=display">T_{ab} T_{bc} = T_{ac}</script>

<script type="math/tex; mode=display">T_{ab}v_b = v_a</script>

<p><strong>Displacing(rotating and translating) a vector or a frame</strong></p>

<p>We have:</p>

<script type="math/tex; mode=display">T = (R, p) = (Rot(\hat{\omega}), p)</script>

<p>so a transformation matrix can be seen as a combination of roation and translation operations.</p>

<p>Same with rotation matrix, transformation matrix here is coordinate-dependent. Whether we pre-multiply or post-multiply $T_{sb}$ by $T=(R,p)$ determines whether the $\hat{\omega}$-axis and $p$ are interpreted as in the fixed frame or the body frame:</p>

<p><em>($\hat{\omega}$ is interpreted as in the fixed frame)</em></p>

<script type="math/tex; mode=display">T_{sb'} = TT_{sb} = Trans(p) \underbrace{Rot(\hat{\omega}, \theta)T_{sb}}_{\text{rotate, then translate}}</script>

<p><em>($\hat{\omega}$ is interpreted as in the body frame)</em></p>

<script type="math/tex; mode=display">T_{sb^{''}} = T_{sb}T = \underbrace{T_{sb} Trans(p)}_{\text{translate, then rotate}} Rot(\hat{\omega}, \theta)</script>

<h3 id="twists">Twists</h3>

<p>Recall that rotation matrices have a property that:</p>

<script type="math/tex; mode=display">\dot{R}R^{-1} = [\omega_s]</script>

<script type="math/tex; mode=display">R^{-1}\dot{R} = [\omega_b]</script>

<p>Homogeneous transformation matrices have a similar one:</p>

<script type="math/tex; mode=display">% <![CDATA[
T^{-1} \dot{T} = \left[\begin{matrix} [\omega_b] & \nu_b \\ 0 & 0 \end{matrix}\right] %]]></script>

<p>where $[\omega_b]$ is the angular velocity expressed in the <script type="math/tex">\{b\}</script> frame. $\nu_b = R^T \dot{p}$, which can be written as $R_{bs}p_s = p_b$, is the linear velocity of the origin of frame <script type="math/tex">\{b\}</script> expressed in <script type="math/tex">\{b\}</script>.</p>

<script type="math/tex; mode=display">% <![CDATA[
\dot{T} T^{-1} = \left[\begin{matrix} [\omega_s] & \nu_s \\ 0 & 0 \end{matrix}\right] %]]></script>

<p>where $[\omega_s]$ is the angular velocity expressed in the <script type="math/tex">\{s\}</script> frame. But, since $\dot{p}$ is the linear velocity of the body-frame origin expressed in the fixed frame, <script type="math/tex">\nu_s = \dot{p} + \omega_s\times (-p)</script> means something else here: $-p$ is the vector pointing from the origin of <script type="math/tex">\{b\}</script> to <script type="math/tex">\{s\}</script>, thus $\omega_s\times (-p)$ is the a linear velocity generated by rotation at the origin of <script type="math/tex">\{s\}</script> expressed in <script type="math/tex">\{s\}</script>. As a result, <script type="math/tex">\nu_s = \dot{p} + \omega_s\times (-p)</script> indicates the linear velocity of fixed frame origin expressed in fixed frame.</p>

<p>Now, we introduce the concept that simultaneously describes linear and angular velocity of a rigid-body, which is named <strong>twist</strong>:</p>

<script type="math/tex; mode=display">\mathcal{V}_b = \left[\begin{matrix} \omega_b \\ \nu_b \end{matrix}\right] \in \mathbb{R}^6</script>

<p>is called <strong>body twist / spatial velocity in the body frame</strong>. The $4\times 4$ matrix representation of a body twist $\mathcal{V}_b$ is:</p>

<script type="math/tex; mode=display">[\mathcal{V}_b] = T^{-1}\dot{T} \in se(3)</script>

<p>Similarly, we have:</p>

<script type="math/tex; mode=display">\mathcal{V}_s = \left[\begin{matrix} \omega_s \\ \nu_s \end{matrix}\right] \in \mathbb{R}^6</script>

<p>is called <strong>spatial twist / spatial velocity in the space frame</strong>.The $4\times 4$ matrix representation of a spatial twist $\mathcal{V}_s$ is:</p>

<script type="math/tex; mode=display">[\mathcal{V}_s] = \dot{T}T^{-1} \in se(3)</script>

<p>Spatial twist and body twist can be transferred to each other:</p>

<script type="math/tex; mode=display">[\mathcal{V}_s] = T [\mathcal{V}_b] T^{-1}</script>

<script type="math/tex; mode=display">% <![CDATA[
\mathcal{V}_s = \left[\begin{matrix} R & 0 \\ [p]R & R \end{matrix}\right] \mathcal{V}_b %]]></script>

<p>we extract the $6\times 6$ matrix, named it as <strong>adjoint representation</strong> $[Ad_T]$ of a transformation matrix $T$:</p>

<script type="math/tex; mode=display">% <![CDATA[
[Ad_T] = \left[\begin{matrix} R & 0 \\ [p]R & R \end{matrix}\right] \in \mathbb{R}^{6\times 6} %]]></script>

<p>so we have:</p>

<script type="math/tex; mode=display">\mathcal{V}_s = [Ad_T] \mathcal{V}_b</script>

<p>it can also be written as:</p>

<script type="math/tex; mode=display">\mathcal{V}_s = Ad_T(\mathcal{V}_b)</script>

<p>Ajoint representation has several properties:</p>

<script type="math/tex; mode=display">[Ad_T]^{-1} = [Ad_{T^{-1}}]</script>

<script type="math/tex; mode=display">Ad_{T^{-1}}(Ad_T(\mathcal{V})) = Ad_{T^{-1}T}(\mathcal{V}) = Ad_I(\mathcal{V}) = \mathcal{V}</script>

<p>For any two frames <script type="math/tex">\{c\}</script> and <script type="math/tex">\{d\}</script>, we have:</p>

<script type="math/tex; mode=display">\mathcal{V}_c = [Ad_{T_{cd}}] \mathcal{V}_d</script>

<p>Again analogously to the case of angular velocities, it is important to realize that, for a given twist, its fixed-frame representation $\mathcal{V}_s$ does not depend on the choice of the body frame <script type="math/tex">\{b\}</script>, and its body-frame representation $\mathcal{V}_b$ does not depend on the choice of the fixed frame <script type="math/tex">\{s\}</script>.</p>

<h4 id="the-skrew-interpretation-of-a-twist">The Skrew Interpretation of a Twist</h4>

<p>The motion of a screw includes both linear and angular motions: it rotates to drill(translate) in one direction. Thus, similar with angular velocity, a twist can be interpreted in terms of s screw axis $\mathcal{S}$ and a velocity $\dot{\theta}$.</p>

<p>For a given reference frame, a <strong>screw axis</strong> $\mathcal{S}$ is written as:</p>

<script type="math/tex; mode=display">\mathcal{S} = \left[\begin{matrix} \omega \\ \nu \end{matrix}\right] \in \mathbb{R}^6</script>

<p>even though looked like a twist, there only two conditions for $\omega$ and $\nu$:</p>
<ol>
  <li>$\lVert\omega\rVert = 1$. In this condition, $v = -\omega\times q + h\omega$, where $q$ is a point on the axis of the screw and $h$ is the pitch(=linear speed / angular speed) of the screw. If pitch is 0, the motion is pure rotation.</li>
  <li>$\omega=0$. In this condition, $\lVert\nu\rVert = 1$, pitch is infinite and the motion is a pure translation along the screw axis defined by $\nu$.</li>
</ol>

<p>A screw axis is a normalized twist, it has the $4\times 4$ matrix representations and its reference frame can be transferred by pre-multiplying adjoint representation of a transformtion matrix.</p>

<h3 id="exponential-coordinates-representation-of-rigid-body-motions">Exponential Coordinates Representation of Rigid-Body Motions</h3>

<p>The <strong>Chasles-Mozzi theorem</strong> states that every rigid-body displacement can be expressed as a displancement along a fixed screw axis $\mathcal{S}$ in space.</p>

<p>Based on the screw interpretation of a twist, we can define the six dimensional <strong>exponential coordinates of a homogeneous transformation</strong> $T$ as $\mathcal{S}\theta \in \mathbb{R}^6$, where $\mathcal{S}$ is the screw axis and $\theta$ is the distance that must be traveled along the screw axis to take frame from the origin $I$ to $T$.</p>

<p>By analogy to the rotation case, we have the <strong>matrix exponential</strong> of a transformation matrix $T$:</p>

<script type="math/tex; mode=display">% <![CDATA[
T = e^{[\mathcal{S}]\theta} = \left[\begin{matrix} e {[\omega]\theta} & G(\theta)\nu \\ 0 & 1 \end{matrix}\right] %]]></script>

<script type="math/tex; mode=display">G(\theta) = I\theta + (1 - \cos{\theta})[\omega] + (\theta - \sin{\theta})[\omega]^2</script>

<p>Again, “where there is a matrix exponential, there is a matrix logarithm”. We have $[\mathcal{S}]\theta$ as the matrix logarithm of a given transforamtion matrix $T=(R,p)$. The details about this algorithm can be found at page 106 at the textbook.</p>

<h3 id="summary-of-rigid-body-motions-and-twists">Summary of Rigid-Body Motions and Twists</h3>

<p>We use <strong>homogeneous transformation matrices</strong> to describe rigid-body motions. By analogy to the case of rotation matrix, we have calculate the variable that describes the velocity of the moving rigid-body from transformation/rotation matrix, which is named <strong>twist</strong>. Different from angular velocity, changing the reference frame of a twist need the <strong>adjoint representation</strong> of a transformation matrix.</p>

<p>Twists can be interpreted in terms of a screw axis and a velocity. Based on this <strong>screw interpretation</strong> of a twist, we introduce the <strong>exponential coordinates representation of a homogeneous transformation matrix</strong>. Similar with the case of rotation matrix, we have <strong>matrix exponential</strong> and <strong>matrix logarithm</strong> of a transformation matrix.</p>

<hr />

<h2 id="wrenches">Wrenches</h2>

<p>Given a reference frame <script type="math/tex">\{a\}</script>, a force $f_a \in \mathbb{R}^3$ creates a <strong>torque / moment</strong> $m_a \in \mathbb{R}^3$ after acting on a rigid body at point $r_a \in \mathbb{R}^3$:</p>

<script type="math/tex; mode=display">m_a = r_a \times f_a</script>

<p>Combining moment and force together, we have the six-dimensional <strong>spatial force / wrench</strong> <script type="math/tex">\mathcal{F}_a</script>:</p>

<script type="math/tex; mode=display">\mathcal{F}_a = \left[\begin{matrix} m_a \\ f_a \end{matrix}\right] \in \mathbb{R}^6</script>

<p>Similar with the case of twist, the reference frame of a wrench can be switched with the help of the adjoint representation of a transformation matrix. But the case is slightly different here:</p>

<script type="math/tex; mode=display">\mathcal{F}_b = Ad^T_{T_{ab}}(\mathcal{F}_a) = [Ad_{T_{ab}}]^T\mathcal{F}_a</script>

<hr />

<h2 id="python-solution-for-coursera-quiz">Python Solution for Coursera Quiz</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">modern_robotics</span> <span class="k">as</span> <span class="n">mr</span> 

<span class="n">T_sa</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 1:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">T_sa</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 1
</span>
<span class="n">T_sb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>

<span class="n">T_bs</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">TransInv</span><span class="p">(</span><span class="n">T_sb</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 2:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">T_bs</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 2
</span>
<span class="n">T_as</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">TransInv</span><span class="p">(</span><span class="n">T_sa</span><span class="p">)</span>
<span class="n">T_ab</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_as</span><span class="p">,</span> <span class="n">T_sb</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 3:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">T_ab</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 3
</span>
<span class="n">p_b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">p_b_homo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p_b</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p_s_homo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">T_sb</span><span class="p">,</span> <span class="n">p_b_homo</span><span class="p">)</span>
<span class="n">p_s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">p_s_homo</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 5:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">p_s</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 5
</span>
<span class="n">V_s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">])</span>
<span class="n">Ad_T_as</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">Adjoint</span><span class="p">(</span><span class="n">T_as</span><span class="p">)</span>
<span class="n">V_a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Ad_T_as</span><span class="p">,</span> <span class="n">V_s</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 7:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">V_a</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 7
</span>
<span class="n">MatrixLog_T_sa</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">MatrixLog6</span><span class="p">(</span><span class="n">T_sa</span><span class="p">)</span>
<span class="n">MatrixLog_T_sa_vec</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">se3ToVec</span><span class="p">(</span><span class="n">MatrixLog_T_sa</span><span class="p">)</span>
<span class="n">theta_MatrixLog_T_sa</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">AxisAng6</span><span class="p">(</span><span class="n">MatrixLog_T_sa_vec</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 8:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">theta_MatrixLog_T_sa</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="c1"># question 8
</span>
<span class="n">exp_coord_q9_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">exp_coord_q9_se3</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">VecTose3</span><span class="p">(</span><span class="n">exp_coord_q9_vec</span><span class="p">)</span>
<span class="n">MatrixExp_exp_coord_q9</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">MatrixExp6</span><span class="p">(</span><span class="n">exp_coord_q9_se3</span><span class="p">)</span>
<span class="n">MatrixExp_exp_coord_q9_off</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">MatrixExp_exp_coord_q9</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 9:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">MatrixExp_exp_coord_q9_off</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">suppress_small</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="c1"># question 9
</span>
<span class="n">F_b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">Ad_T_bs</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">Adjoint</span><span class="p">(</span><span class="n">T_bs</span><span class="p">)</span>
<span class="n">Ad_T_bs_trans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Ad_T_bs</span><span class="p">)</span>
<span class="n">F_s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">Ad_T_bs_trans</span><span class="p">,</span> <span class="n">F_b</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 10:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">F_s</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 10
</span>
<span class="n">T_q11</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
                  <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
                  <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">],</span>
                  <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">]])</span>
<span class="n">T_q11_inv</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">TransInv</span><span class="p">(</span><span class="n">T_q11</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 11:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">T_q11_inv</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 11
</span>
<span class="n">V_q12</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">V_q12_se3</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">VecTose3</span><span class="p">(</span><span class="n">V_q12</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 12:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">V_q12_se3</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 12
</span>
<span class="n">vec_s_q13</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">point_p_q13</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">h_q13</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">S_q13</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">ScrewToAxis</span><span class="p">(</span><span class="n">point_p_q13</span><span class="p">,</span> <span class="n">vec_s_q13</span><span class="p">,</span> <span class="n">h_q13</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 13:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">S_q13</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">))</span> <span class="c1"># question 13
</span>
<span class="n">MatrixExp_q14</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span>     <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5708</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>  <span class="mf">2.3562</span><span class="p">],</span>
                          <span class="p">[</span><span class="mf">1.5708</span><span class="p">,</span>       <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3562</span><span class="p">],</span>
                          <span class="p">[</span>     <span class="mi">0</span><span class="p">,</span>       <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>       <span class="mi">1</span><span class="p">],</span>
                          <span class="p">[</span>     <span class="mi">0</span><span class="p">,</span>       <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>       <span class="mi">0</span><span class="p">]])</span>
<span class="n">T_q14</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">MatrixExp6</span><span class="p">(</span><span class="n">MatrixExp_q14</span><span class="p">)</span>
<span class="n">T_q14_off</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">T_q14</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 14:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">T_q14_off</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">suppress_small</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="c1"># question 14
</span>
<span class="n">T_q15</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                  <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                  <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                  <span class="p">[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">MatrixLog_T_q15</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">MatrixLog6</span><span class="p">(</span><span class="n">T_q15</span><span class="p">)</span>
<span class="n">MatrixLog_T_q15_off</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">MatrixLog_T_q15</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Question 15:</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array2string</span><span class="p">(</span><span class="n">MatrixLog_T_q15_off</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">suppress_small</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span> <span class="c1"># question 15
</span></code></pre></div></div>

<hr />

<h2 id="references">References</h2>

<p>[1] <a href="https://en.wikipedia.org/wiki/Angular_velocity">Angular velocity(Wikipedia)</a></p>


	  
	  
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>

<script
  type="text/javascript"
  charset="utf-8"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
>
</script>
<!-- <script
  type="text/javascript"
  charset="utf-8"
  src="https://vincenttam.github.io/javascripts/MathJaxLocal.js"
> -->
</script>



      
      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        This site is open source. <a href="https://github.com/pages-themes/primer/edit/master/ch3.md">Improve this page</a>.
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
